#!/usr/bin/env zsh

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Dotfiles Help
#
# Documentation for the dotfiles management system
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

gum style --bold --foreground 212 "ðŸ“š Dotfiles Help"
echo ""

# --- Overview
gum style --bold "Overview"
echo "This dotfiles system manages your macOS configuration, including:"
echo "â€¢ Shell configuration (zsh)"
echo "â€¢ Package management (Homebrew)"
echo "â€¢ System preferences"
echo "â€¢ Development tools"
echo "â€¢ Application settings"
echo ""

# --- Commands
gum style --bold "Available Commands"
echo ""

gum style --bold --foreground 76 "dotfiles install"
echo "Interactive installation of dotfiles components:"
echo "â€¢ Homebrew packages (via Brewfile)"
echo "â€¢ DNS settings"
echo "â€¢ Hosts file configuration"
echo "â€¢ Symlinks for configuration files"
echo "â€¢ macOS system preferences"
echo "â€¢ Personal folder structure"
echo ""

gum style --bold --foreground 76 "dotfiles update"
echo "Updates your dotfiles installation:"
echo "â€¢ Updates the dotfiles repository"
echo "â€¢ Handles git conflicts if they occur"
echo "â€¢ Updates Homebrew packages"
echo "â€¢ Refreshes symlinks"
echo "â€¢ Optionally updates macOS defaults"
echo "â€¢ Runs health checks"
echo ""

gum style --bold --foreground 76 "dotfiles doctor"
echo "Checks the health of your installation:"
echo "â€¢ Verifies Homebrew packages"
echo "â€¢ Validates symlinks"
echo "â€¢ Checks required tools"
echo "â€¢ Verifies custom folders"
echo "â€¢ Confirms macOS settings"
echo ""

# --- Configuration
gum style --bold "Configuration Files"
echo "Important configuration files:"
echo "â€¢ zsh/       - Shell configuration"
echo "â€¢ ghostty/   - Terminal configuration"
echo "â€¢ git/       - Git configuration"
echo "â€¢ Brewfile   - Package definitions"
echo ""

# --- Tips
gum style --bold "Tips"
echo "â€¢ Run 'dotfiles' without arguments for an interactive menu"
echo "â€¢ Use 'dotfiles doctor' after making changes to verify your setup"
echo "â€¢ The update command is safe and will handle conflicts gracefully"
echo "â€¢ Configuration files are symlinked from ~/.config/"
echo ""

# --- Getting Help
gum style --bold "Getting Help"
echo "â€¢ Run 'dotfiles help' to show this help message"
echo "â€¢ Check the README.md for detailed documentation"
echo "â€¢ Visit https://github.com/JorgenKrieger/dotfiles for updates"
echo ""

# --- Footer
gum style --italic "Your dotfiles are managed by $(whoami) and were last updated on $(date '+%Y-%m-%d')"

# --- Return to menu
echo ""
gum confirm "Return to menu?" && {
    local choice
    choice=$(gum choose --header "What do you want to do?" install update doctor help quit)
    [[ $choice == quit ]] && return 0
    run $choice
}